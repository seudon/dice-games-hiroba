---
// src/components/ui/GameCard.astro
import type { CollectionEntry } from 'astro:content';

interface Props {
  game: CollectionEntry<'games'>;
}

const { game } = Astro.props;
const { title, description, difficulty, players, duration, diceCount, category } = game.data;

// é›£æ˜“åº¦ã«å¿œã˜ãŸãƒãƒƒã‚¸ã‚«ãƒ©ãƒ¼
const difficultyColors: Record<string, string> = {
  'åˆç´š': 'bg-success',
  'ä¸­ç´š': 'bg-info',
  'ä¸Šç´š': 'bg-warning',
  'è¶…ç´š': 'bg-danger',
};

const baseUrl = import.meta.env.BASE_URL;
---

<a href={`${baseUrl}games/${game.slug}/`} class="card h-100 text-decoration-none">
  <div class="card-body">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h3 class="card-title h5 flex-grow-1 text-dark">{title}</h3>
      <span class={`badge ${difficultyColors[difficulty]}`}>
        {difficulty}
      </span>
    </div>

    <!-- èª¬æ˜ -->
    <p class="card-text text-dark">{description}</p>

    <!-- ãƒ¡ã‚¿æƒ…å ± -->
    <div class="d-flex flex-wrap gap-2 mb-3">
      <span class="text-dark">
        <span>ğŸ‘¥</span>
        <span>{players}</span>
      </span>
      <span class="text-dark">
        <span>â±ï¸</span>
        <span>{duration}</span>
      </span>
      <span class="text-dark">
        <span>ğŸ²</span>
        <span>{diceCount}å€‹</span>
      </span>
    </div>

    <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¿ã‚° -->
    <div class="d-flex flex-wrap gap-2">
      {category.map((cat: string) => (
        <span class="badge bg-secondary">{cat}</span>
      ))}
    </div>
  </div>
</a>
